{"version":3,"sources":["./src/app/attendance/attendance.page.html","./src/app/attendance/attendance.module.ts","./src/app/attendance/attendance.page.scss","./src/app/attendance/attendance.page.ts"],"names":[],"mappings":"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","file":"attendance-attendance-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Attendance</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n    <div padding>\\n      <div style=\\\"text-align: center\\\">\\n        <ion-button shape=\\\"round\\\" color=\\\"success\\\"(click)=\\\"capture(true)\\\" style=\\\"    width: 80%;\\n        height: 165px;\\n        margin-top: 30px;\\n        font-size: 35px;\\\" >In-Time</ion-button>\\n      </div>\\n    </div>\\n    <div padding>\\n      <div style=\\\"text-align: center\\\">\\n        <ion-button shape=\\\"round\\\" color=\\\"danger\\\" (click)=\\\"capture(false)\\\" style=\\\"    width: 80%;\\n        height: 165px;\\n        margin-top: 55px;font-size: 35px;\\\" >Out-Time</ion-button>\\n      </div>\\n    </div>\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AttendancePage } from './attendance.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AttendancePage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    ReactiveFormsModule\n  ],\n  declarations: [AttendancePage],\n  entryComponents: [],\n})\nexport class AttendancePageModule {}\n","module.exports = \".imgcontainer {\\n  text-align: center;\\n  margin: 24px 0 12px 0;\\n}\\n\\nimg.avatar {\\n  width: 40%;\\n  border-radius: 50%;\\n  margin-top: 50px;\\n}\\n\\n.register_link {\\n  margin-left: 20%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2pkZi9Eb2N1bWVudHMvb3RoZXJhcHBzL1RpbWV3aXRzL3NyYy9hcHAvYXR0ZW5kYW5jZS9hdHRlbmRhbmNlLnBhZ2Uuc2NzcyIsInNyYy9hcHAvYXR0ZW5kYW5jZS9hdHRlbmRhbmNlLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUNJLGtCQUFBO0VBQ0EscUJBQUE7QUNBSjs7QURJQTtFQUNJLFVBQUE7RUFDQSxrQkFBQTtFQUNBLGdCQUFBO0FDREo7O0FER0E7RUFDSSxnQkFBQTtBQ0FKIiwiZmlsZSI6InNyYy9hcHAvYXR0ZW5kYW5jZS9hdHRlbmRhbmNlLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLmltZ2NvbnRhaW5lcntcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgbWFyZ2luOjI0cHggMCAxMnB4IDA7XG59XG5cblxuaW1nLmF2YXRhcntcbiAgICB3aWR0aDo0MCU7XG4gICAgYm9yZGVyLXJhZGl1czo1MCU7XG4gICAgbWFyZ2luLXRvcDo1MHB4O1xufVxuLnJlZ2lzdGVyX2xpbmt7XG4gICAgbWFyZ2luLWxlZnQ6MjAlO1xufSIsIi5pbWdjb250YWluZXIge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIG1hcmdpbjogMjRweCAwIDEycHggMDtcbn1cblxuaW1nLmF2YXRhciB7XG4gIHdpZHRoOiA0MCU7XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgbWFyZ2luLXRvcDogNTBweDtcbn1cblxuLnJlZ2lzdGVyX2xpbmsge1xuICBtYXJnaW4tbGVmdDogMjAlO1xufSJdfQ== */\"","import { HttpClient } from '@angular/common/http';\nimport { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\nimport { ActionSheetController, LoadingController, ModalController, ToastController } from '@ionic/angular';\nimport { ConfirmComponent } from '../confirm/confirm.component';\nimport { ErrorComponent } from '../err-popup/err-popup.component';\n\n\n@Component({\n  selector: 'app-attendance',\n  templateUrl: './attendance.page.html',\n  styleUrls: ['./attendance.page.scss'],\n})\nexport class AttendancePage implements OnInit {\n  // attendanceForm: FormGroup;\n  attendanceList: any;\n  attendanceList1:any\n\n  constructor(\n    public loadingController: LoadingController,\n    public camera: Camera,\n    public router: Router,\n    private modalCtrl: ModalController,\n    public httpClient: HttpClient,\n    public actionSheetController: ActionSheetController,\n    private formBuilder: FormBuilder,\n    private modalController: ModalController, public toastController: ToastController\n\n  ) {\n  \n  }\n\n\n\n  ngOnInit() {\n\n  }\n\n  async capture(isEntry: boolean) {\n    const options: CameraOptions = {\n      quality: 10,\n      destinationType: this.camera.DestinationType.DATA_URL,\n      encodingType: this.camera.EncodingType.JPEG,\n      mediaType: this.camera.MediaType.PICTURE,\n      correctOrientation: true\n      // allowEdit: true\n    }\n    const imageData = await this.camera.getPicture(options);\n    let body: any = { photo: imageData, isEntry };\n    this.httpClient.post('http://15.207.71.113:3000/login/search_face', body).subscribe(data => {\n      // if (data != null) {\n        this.attendanceList = data;\n        if (this.attendanceList.code == 200) {\n          this.httpClient.post('http://15.207.71.113:3000/users/attendance', body).subscribe(data => {\n            // if (data != null) {\n              this.attendanceList1=data;\n              // alert(JSON.stringify(this.attendanceList1))\n\n              if(this.attendanceList1.code == 200){\n                this.goToConfirmcomponent();\n              }else if((this.attendanceList1.code == 404)){\n                this.goToNonConfirmcomponent('Error Network Connection','error');\n              }\n            // }else {\n\n            // }\n          });\n        } else if (this.attendanceList.code == 404) {\n          this.goToNonConfirmcomponent('Face Not Match','cancel');\n        } else {\n        this.goToNonConfirmcomponent('No Face Found','error');\n      }\n    });\n    return imageData;\n\n  }\n  async goToConfirmcomponent() {\n    const modal = await this.modalController.create({\n      component: ConfirmComponent,\n      cssClass: 'ConfirmComponent',\n      componentProps: {\n        message: this.attendanceList1.message,\n        code: this.attendanceList1.code,\n        // searchfacecode:this.attendanceList.code,\n        // searchfacemessge:this.attendanceList.message\n\n\n      }\n    });\n    modal.onDidDismiss().then(data => {\n      if (data.data != null) {\n\n      }\n    });\n    return await modal.present();\n  }\n\n  async goToNonConfirmcomponent(data,type) {\n    const modal = await this.modalController.create({\n      component: ErrorComponent,\n      cssClass: 'ConfirmComponent',\n      componentProps: {\n        message:data,\n        type: type\n      }\n    });\n    modal.onDidDismiss().then(data => {\n      if (data.data != null) {\n\n      }\n    });\n    return await modal.present();\n  }\n  async presentToast() {\n    const toast = await this.toastController.create({\n      message: 'No Face Found',\n      duration: 2000,\n    });\n    toast.present();\n  }\n  // async presentToast1() {\n  //   const toast = await this.toastController.create({\n  //     message: 'User Not Found',\n  //     duration: 2000,\n  //   });\n  //   toast.present();\n  // }\n}\n"],"sourceRoot":""}