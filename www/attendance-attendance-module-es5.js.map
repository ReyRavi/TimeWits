{"version":3,"sources":["./src/app/attendance/attendance.page.html","./src/app/attendance/attendance.module.ts","./src/app/attendance/attendance.page.scss","./src/app/attendance/attendance.page.ts"],"names":[],"mappings":"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","file":"attendance-attendance-module-es5.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Attendance</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n    <div padding>\\n      <div style=\\\"text-align: center\\\">\\n        <ion-button shape=\\\"round\\\" color=\\\"success\\\"(click)=\\\"capture(true)\\\" style=\\\"    width: 80%;\\n        height: 165px;\\n        margin-top: 30px;\\n        font-size: 35px;\\\" >In-Time</ion-button>\\n      </div>\\n    </div>\\n    <div padding>\\n      <div style=\\\"text-align: center\\\">\\n        <ion-button shape=\\\"round\\\" color=\\\"danger\\\" (click)=\\\"capture(false)\\\" style=\\\"    width: 80%;\\n        height: 165px;\\n        margin-top: 55px;font-size: 35px;\\\" >Out-Time</ion-button>\\n      </div>\\n    </div>\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AttendancePage } from './attendance.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AttendancePage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    ReactiveFormsModule\n  ],\n  declarations: [AttendancePage],\n  entryComponents: [],\n})\nexport class AttendancePageModule {}\n","module.exports = \".imgcontainer {\\n  text-align: center;\\n  margin: 24px 0 12px 0;\\n}\\n\\nimg.avatar {\\n  width: 40%;\\n  border-radius: 50%;\\n  margin-top: 50px;\\n}\\n\\n.register_link {\\n  margin-left: 20%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2pkZi9Eb2N1bWVudHMvb3RoZXJhcHBzL1RpbWV3aXRzL3NyYy9hcHAvYXR0ZW5kYW5jZS9hdHRlbmRhbmNlLnBhZ2Uuc2NzcyIsInNyYy9hcHAvYXR0ZW5kYW5jZS9hdHRlbmRhbmNlLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUNJLGtCQUFBO0VBQ0EscUJBQUE7QUNBSjs7QURJQTtFQUNJLFVBQUE7RUFDQSxrQkFBQTtFQUNBLGdCQUFBO0FDREo7O0FER0E7RUFDSSxnQkFBQTtBQ0FKIiwiZmlsZSI6InNyYy9hcHAvYXR0ZW5kYW5jZS9hdHRlbmRhbmNlLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLmltZ2NvbnRhaW5lcntcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgbWFyZ2luOjI0cHggMCAxMnB4IDA7XG59XG5cblxuaW1nLmF2YXRhcntcbiAgICB3aWR0aDo0MCU7XG4gICAgYm9yZGVyLXJhZGl1czo1MCU7XG4gICAgbWFyZ2luLXRvcDo1MHB4O1xufVxuLnJlZ2lzdGVyX2xpbmt7XG4gICAgbWFyZ2luLWxlZnQ6MjAlO1xufSIsIi5pbWdjb250YWluZXIge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIG1hcmdpbjogMjRweCAwIDEycHggMDtcbn1cblxuaW1nLmF2YXRhciB7XG4gIHdpZHRoOiA0MCU7XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgbWFyZ2luLXRvcDogNTBweDtcbn1cblxuLnJlZ2lzdGVyX2xpbmsge1xuICBtYXJnaW4tbGVmdDogMjAlO1xufSJdfQ== */\"","import { HttpClient } from '@angular/common/http';\nimport { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\nimport { ActionSheetController, LoadingController, ModalController, ToastController } from '@ionic/angular';\nimport { ConfirmComponent } from '../confirm/confirm.component';\nimport { ErrorComponent } from '../err-popup/err-popup.component';\n\n\n@Component({\n  selector: 'app-attendance',\n  templateUrl: './attendance.page.html',\n  styleUrls: ['./attendance.page.scss'],\n})\nexport class AttendancePage implements OnInit {\n  // attendanceForm: FormGroup;\n  attendanceList: any;\n  attendanceList1:any\n\n  constructor(\n    public loadingController: LoadingController,\n    public camera: Camera,\n    public router: Router,\n    private modalCtrl: ModalController,\n    public httpClient: HttpClient,\n    public actionSheetController: ActionSheetController,\n    private formBuilder: FormBuilder,\n    private modalController: ModalController, public toastController: ToastController\n\n  ) {\n  \n  }\n\n\n\n  ngOnInit() {\n\n  }\n\n  async capture(isEntry: boolean) {\n    const options: CameraOptions = {\n      quality: 10,\n      destinationType: this.camera.DestinationType.DATA_URL,\n      encodingType: this.camera.EncodingType.JPEG,\n      mediaType: this.camera.MediaType.PICTURE,\n      correctOrientation: true\n      // allowEdit: true\n    }\n    const imageData = await this.camera.getPicture(options);\n    let body: any = { photo: imageData, isEntry };\n    this.httpClient.post('http://15.207.71.113:3000/login/search_face', body).subscribe(data => {\n      // if (data != null) {\n        this.attendanceList = data;\n        if (this.attendanceList.code == 200) {\n          this.httpClient.post('http://15.207.71.113:3000/users/attendance', body).subscribe(data => {\n            // if (data != null) {\n              this.attendanceList1=data;\n              // alert(JSON.stringify(this.attendanceList1))\n\n              if(this.attendanceList1.code == 200){\n                this.goToConfirmcomponent();\n              }else if((this.attendanceList1.code == 404)){\n                this.goToNonConfirmcomponent('Error Network Connection','error');\n              }\n            // }else {\n\n            // }\n          });\n        } else if (this.attendanceList.code == 404) {\n          this.goToNonConfirmcomponent('Face Not Match','cancel');\n        } else {\n        this.goToNonConfirmcomponent('No Face Found','error');\n      }\n    });\n    return imageData;\n\n  }\n  async goToConfirmcomponent() {\n    const modal = await this.modalController.create({\n      component: ConfirmComponent,\n      cssClass: 'ConfirmComponent',\n      componentProps: {\n        message: this.attendanceList1.message,\n        code: this.attendanceList1.code,\n        // searchfacecode:this.attendanceList.code,\n        // searchfacemessge:this.attendanceList.message\n\n\n      }\n    });\n    modal.onDidDismiss().then(data => {\n      if (data.data != null) {\n\n      }\n    });\n    return await modal.present();\n  }\n\n  async goToNonConfirmcomponent(data,type) {\n    const modal = await this.modalController.create({\n      component: ErrorComponent,\n      cssClass: 'ConfirmComponent',\n      componentProps: {\n        message:data,\n        type: type\n      }\n    });\n    modal.onDidDismiss().then(data => {\n      if (data.data != null) {\n\n      }\n    });\n    return await modal.present();\n  }\n  async presentToast() {\n    const toast = await this.toastController.create({\n      message: 'No Face Found',\n      duration: 2000,\n    });\n    toast.present();\n  }\n  // async presentToast1() {\n  //   const toast = await this.toastController.create({\n  //     message: 'User Not Found',\n  //     duration: 2000,\n  //   });\n  //   toast.present();\n  // }\n}\n"],"sourceRoot":""}